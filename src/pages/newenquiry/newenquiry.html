<!--
  Generated template for the NewenquiryPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-content class="has-header" >
    <!-- <div class="logo">
        <img src="assets/imgs/logo.png" alt="Ionic logo">
    </div>
        <ion-title>
            <h3 class="entry-form-title">Signup Page</h3>
        </ion-title> -->
    <form [formGroup]="newenquiryForm" novalidate (submit)="newqueryFormAdd()">
 <ion-grid class="form-body">
                <ion-card>
            <ion-row>

                <ion-col col-12>
                    <ion-select col-12 interface="alert" placeholder="business Type" name="user_org_type"
                        formControlName="user_org_type" [ngClass]="displayFieldCss(newenquiryForm,'user_org_type')">
                        <ion-option *ngFor="let businessMode of businessType">{{businessMode.type}}</ion-option>
                    </ion-select>
                    <span class="error-msg" *ngIf="isFieldValid(newenquiryForm,'user_org_type')">Please enter Organization type
                        .</span>
                </ion-col>

                <ion-col col-12>
                    <ion-input type="text" name="user_delivery_location" formControlName="user_delivery_location"
                        [ngClass]="displayFieldCss(newenquiryForm,'user_delivery_location')" placeholder="Delivery Location"></ion-input>
                    <span class="error-msg" *ngIf="isFieldValid(newenquiryForm,'user_delivery_location')">Please enter a Name.</span>
                </ion-col>
                <ion-col col-12>
                    <ion-input type="text" name="site_name" formControlName="site_name"
                        [ngClass]="displayFieldCss(newenquiryForm,'site_name')" placeholder="Site Name"></ion-input>
                    <span class="error-msg" *ngIf="isFieldValid(newenquiryForm,'site_name')">Please enter a Site Name
                        Name.</span>
                </ion-col>

                <ion-col col-12>
                    <ion-input type="text" name="site_supervisor_name" formControlName="site_supervisor_name"
                        [ngClass]="displayFieldCss(newenquiryForm,'site_supervisor_name')" placeholder="Website"></ion-input>
                    <span class="error-msg" *ngIf="isFieldValid(newenquiryForm,'site_supervisor_name')">Please enter a Site Supervisor Name.</span>
                </ion-col>
</ion-row>
</ion-card>

<ion-row>
  <ion-col col-12>
    <!-- <h3 (click)="addItem()">Add Row</h3> -->
    <!-- <ion-icon item-end color="primary" (click)="addItem()" ios="ios-add" md="md-add"></ion-icon> -->
    <ion-icon ios="ios-add-circle" md="md-add-circle" (click)="addItem()" class="add-more"></ion-icon>
</ion-col>
</ion-row>
<ion-card *ngFor="let item of newenquiryForm.get('enquiry_details').controls; let i = index;">
<ion-row>
  <ion-col col-12>
      <div class="dynamic-form" formArrayName="enquiry_details"
      >
      <div [formGroupName]="i">
        <!-- <input formControlName="name" placeholder="Item name">
        <input formControlName="description" placeholder="Item description">
        <input formControlName="price" placeholder="Item price"> -->
        <!-- <ion-input type="text" name="product_id" formControlName="product_id"
         placeholder="Product Id"></ion-input> -->

         
       <ion-select (ionChange)="getProductDetails($event)" col-12 interface="alert" placeholder="product" name="product_id"
                        formControlName="product_id" >
                        <ion-option *ngFor="let product of allProduct" value="{{product.id}}">{{product.product_name}}</ion-option>
                    </ion-select>

                   

                   

         <ion-input type="text" name="product_type_id" formControlName="product_type_id"
         placeholder="Product Type Id"></ion-input>

         <ion-select *ngIf="isShow" (ionChange)="getProductDetails($event)" col-12 interface="alert" placeholder="product" name="product_id"
         formControlName="product_id" >
         <ion-option *ngFor="let pro of proDetails" value="{{pro.id}}">{{pro.product_name}}</ion-option>
     </ion-select>

         <!-- <ion-select  col-12 interface="alert" placeholder="Product Type Id" name="product_type_id"
         formControlName="product_type_id" >
         <ion-option *ngFor="let proDetails of productDetails" value="{{proDetails.id}}">{{proDetails.product_name}}</ion-option>
       </ion-select> -->

       <!-- <ion-select  col-12 interface="alert" placeholder="Product Type Id" name="product_type_id"
         formControlName="product_type_id" >
         <ion-option *ngFor="let proDetails of productDetails" value="{{proDetails.id}}">{{proDetails.product_name}}</ion-option> 
       </ion-select> -->

      kk {{productDetails}}

       

         <ion-input type="text" name="product_unit_id" formControlName="product_unit_id"
         placeholder="Product Unit Id"></ion-input>

         <ion-input type="text" name="unit_rate" formControlName="unit_rate"
         placeholder="Unit Rate"></ion-input>

         <ion-input type="text" name="quantity" formControlName="quantity"
         placeholder="Quantity"></ion-input>

         <ion-input type="text" name="total_rate" formControlName="total_rate"
         placeholder="Total Rate"></ion-input>
   
      </div>
    
     
    </div>
  </ion-col>
</ion-row>
</ion-card>
            <ion-row responsive-sm class="entry-bottom">
                <ion-col class="pl-0 pr-0">
                    <button ion-button color="primary" block [disabled]="!newenquiryForm.valid">Submit</button>
                </ion-col>
            </ion-row>
        </ion-grid>
    </form>
   
</ion-content>
